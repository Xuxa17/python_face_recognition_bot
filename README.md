# python_face_recognition_bot
Групповой учебный проект - бот в телеграмме для распознавания лиц

##Описание запуска

###Используемые зависимости в проекте:

pyTelegramBotAPI - используется для разработки API телеграм бота.
boto3 - используется для взаимодействия с объектным хранилищем Minio.
pandas - используется для формирования txt файла с данными по БД.
numpy - используется работы с потоками бит фотографий.
cv2 - используется для обработки изображений.
deepface - библиотека для распознавания лиц.
Развёртывание Minio

Для запуска minio на локальной машине требуется скачать плагин Docker-а в Pycharm. Далее для запуска объектного хранилища на локальной машине требуется запустить на ней Docker, после чего подключиться к нему через Pycharm и указать файл конфигурации 'docker-compose.yml'

##Функциональность бота

Бот предоставляет следующую функциональность:

Добавление пользователя в БД, с указанием имени пользователя и фото
Распознавание по фото среди уже сохранённых пользователей
Получение txt файла с данными о количестве распознаваний каждого из пользователей.

##Описание структуры проекта

Файл docker-compose.yml

Файл 'docker-compose.yml' содержит инструкции, необходимые для запуска и настройки сервиса Minio.

Файл default.ini

Файл используется для инициализации конфигурации доступа к уже развёрнотому сервису minio при помощи класса S3BucketService

Файл s3_service.py

Файл предоставляет класс S3BucketService, в который обёрнута логика доступа к Minio.

Файл face_recognition.py

Файл предоставляет функции compare_faces_bool и has_face_on_image. compare_faces_bool используется для распознавания человека на фото. has_face_on_image используется для проверки наличия человеческого лица на фото.

Файл BD.py

Файл предоставляет логику работы с класс BD, в который обёрнута логика работы с базой данных SQLite.

Файл config.py

В файле config содержится токен телеграм бота.

Файл main.py и hello.webm

Файл 'main.py' описывает API телеграм бота, в нём содержится перечисление State, которое используется для построения правильной логики бота с использованием описанных состояний. 

###Также в этом же файле релизованы следующие функции:

print_menu - используется для вывода меню пользователю.
welcome - используется для вывода приветственного слова и объяснения для чего был реализован этот бот.
text_handler - обработчик ввода текста от пользователя.
photo - обработчик отправленных пользователем фото.
callback_inline_one - обработчик нажатий на кнопки меню бота.
Файл 'hello.webm' - гифка, используемая ботом при выводе приветственного слова.
